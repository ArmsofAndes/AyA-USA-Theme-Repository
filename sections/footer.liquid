{% liquid
	assign full_width = section.settings.full_width
	assign copyright_text = section.settings.copyright_text
	assign show_language_switcher = section.settings.show_language_switcher
	assign show_currency_switcher = section.settings.show_currency_switcher
	assign show_payment_icons = section.settings.show_payment_icons
%}

<link rel="stylesheet" href="{{ 'footer.css' | asset_url }}" media="print" onload="this.media='all'">
<noscript>{{ 'footer.css' | asset_url | stylesheet_tag }}</noscript>

<footer class="footer" id="footer">
	<div class="row {% if full_width %}full-width-row{% endif %}">
		{%- for block in section.blocks -%}
			{% if block.type == 'text' %}
				{%- liquid
					assign column_class = 'small-12 medium-4 large-2'
					case block.settings.column_size
						when 'medium'
							assign column_class = 'small-12 medium-3'
						when 'large'
							assign column_class = 'small-12 medium-6'

					endcase
				-%}
			<div class="{{ column_class | escape }} columns widget3" {{ block.shopify_attributes }}>
				<div class="widget widget--text">
					{%- if block.settings.title != blank -%}
						<div class="thb-widget-title">{{ block.settings.title }}</div>
					{%- endif -%}
					{%- if block.settings.image != blank -%}
						{% assign image = block.settings.image %}
						{% assign master_width = image.src.width | append: 'x' | append: image.src.height %}
						{%- render 'responsive-image', image: image, sizes: master_width, retina: 1, priority: 'low' -%}
					{%- endif -%}
					{%- if block.settings.text != blank -%}
						<div class="rte text-size--{{ block.settings.text_size }}">
							{{ block.settings.text }}
						</div>
					{%- endif -%}
					{%- if block.settings.button_text != blank -%}
						<a class="text-button" href="{{ block.settings.button_link }}" role="button" title="{{ block.settings.button_text | escape }}">{{ block.settings.button_text }}</a>
					{%- endif -%}
					{%- if block.settings.show_social_links -%}
						{%- render 'social-links' -%}
					{%- endif -%}
				</div>
			</div>
			{% endif %}
			{%- if block.type == 'menu' -%}
				{%- liquid
					assign column_class = 'small-12 medium-4 large-2'
					case block.settings.column_size
						when 'medium'
							assign column_class = 'small-12 medium-3'
						when 'large'
							assign column_class = 'small-12 medium-6'
					endcase
				-%}
			<div class="{{ column_class | escape }} columns widget--menu-column widget2" {{ block.shopify_attributes }}>
				<div class="widget widget--menu">
					<button class="thb-widget-title collapsible" tabindex="0">{{ block.settings.title }} <span></span></button>
					{%- if block.settings.menu != blank -%}
					<ul class="thb-widget-menu">
					  {% for link in block.settings.menu.links %}
						  {% assign has_sub_menu = false %}
						  {% if link.links.size > 0 %}
						    {% assign has_sub_menu = true %}
							{% endif %}
						  <li class="{% if has_sub_menu %}menu-item-has-children{% endif %}{% if link.active %} active{% endif %}">
						    <a href="{{ link.url }}" title="{{ link.title | escape }}"{%- if link.active %} aria-current="page"{% endif -%}>{{ link.title }}</a>{% if has_sub_menu %}<span class="thb-arrow" tabindex="0">{%- render 'svg-icons' with 'thb-dropdown-bottom' -%}</span>{% endif %}
						    {% if has_sub_menu %}
							    <ul class="sub-menu" tabindex="-1">
						        {% for l in link.links %}
											{% assign has_sub_menu = false %}
										  {% if l.links.size > 0 %}
										    {% assign has_sub_menu = true %}
											{% endif %}
							        <li class="{% if has_sub_menu %}menu-item-has-children{% endif %}{% if l.active %} active{% endif %}" role="none">
							          <a href="{{ l.url }}" title="{{ l.title | escape }}" role="menuitem">{{ l.title }}</a>{% if has_sub_menu %}<span class="thb-arrow" tabindex="0">{%- render 'svg-icons' with 'thb-dropdown-bottom' -%}</span>{% endif %}
												{% if has_sub_menu %}
													<ul class="sub-menu" role="menu">
														{% for sub_link in l.links %}
															{% assign has_sub_menu = false %}
															{% if sub_link.links.size > 0 %}
																{% assign has_sub_menu = true %}
															{% endif %}
															<li class="{% if has_sub_menu %}menu-item-has-children{% endif %}{% if sub_link.active %} active{% endif %}" role="none">
																<a href="{{ sub_link.url }}" title="{{ sub_link.title | escape }}" role="menuitem">{{ sub_link.title }}</a>
															</li>
														{% endfor %}
													</ul>
												{% endif %}
							        </li>
										{% endfor %}
							    </ul>
						    {% endif %}
						  </li>
					  {% endfor %}
					</ul>
					{%- endif -%}
				</div>
			</div>
			{%- endif -%}
			{%- if block.type == 'signup' -%}
				{%- liquid
					assign column_class = 'small-12 medium-4 large-2'
					case block.settings.column_size
						when 'medium'
							assign column_class = 'small-12 medium-3'
						when 'large'
							assign column_class = 'small-12 medium-6'

					endcase
				-%}
				<div class="{{ column_class | escape }} columns widget1" {{ block.shopify_attributes }}>
					<div class="widget widget--signup">
						{% if block.settings.title != blank %}
							<div class="thb-widget-title">{{ block.settings.title }}</div>
						{% endif %}
						{% if block.settings.text != blank %}
							{{ block.settings.text }}
						{% endif %}
						{% render 'email-signup-form' %}
					</div>
				</div>
			{%- endif -%}
			{%- if block.type == 'social' -%}
				{%- liquid
					assign column_class = 'small-6 medium-4 large-2'
					case block.settings.column_size
						when 'medium'
							assign column_class = 'small-12 medium-3'
						when 'large'
							assign column_class = 'small-12 medium-6'

					endcase
				-%}
				<div class="{{ column_class | escape }} columns" {{ block.shopify_attributes }}>
					<div class="widget widget--social">
						{% if block.settings.title != blank %}
							<div class="thb-widget-title">{{ block.settings.title }}</div>
						{% endif %}
						{% render 'social-links' %}
					</div>
				</div>
			{%- endif -%}
			{%- if block.type == 'custom_liquid' -%}
				{%- liquid
					assign column_class = 'small-6 medium-4 large-2'
					case block.settings.column_size
						when 'medium'
							assign column_class = 'small-12 medium-3'
						when 'large'
							assign column_class = 'small-12 medium-6'

					endcase
				-%}
				<div class="{{ column_class | escape }} columns" {{ block.shopify_attributes }}>
					<div class="widget widget--custom">
						{% if block.settings.title != blank %}
							<div class="thb-widget-title">{{ block.settings.title }}</div>
						{% endif %}
						{{ block.settings.custom_liquid }}
					</div>
				</div>
			{%- endif -%}
		{%- endfor -%}
	</div>
	<div class="sub-footer" >
		<div class="row {% if full_width %}full-width-row{% endif %}" >
			<div class="small-12 medium-8 columns">
				{% render 'localization', id: 'FooterLocalization', show_language_switcher: show_language_switcher, show_currency_switcher: show_currency_switcher %}
			</div>
			<div class="small-12 medium-4 columns" >
				{%- if show_payment_icons -%}
				<div class="payment-icons">
        {%- unless shop.enabled_payment_types == empty -%}
          {%- for type in shop.enabled_payment_types -%}
            <figure>{{ type | payment_type_svg_tag: class: 'payment-icons__icon' }}</figure>
          {%- endfor -%}
        {%- endunless -%}
        </div>
				{%- endif -%}
			</div>{% comment %}
			<div class="small-12 columns">
				<p>&copy; {{ 'now' | date: "%Y" }} {{ shop.name }}, {{ copyright_text }} {{ powered_by_link }}</p> 
				{%- if shop.features.follow_on_shop? and section.settings.enable_follow_on_shop -%}
          <div class="footer--follow-on-shop">
            {{ shop | login_button: action: 'follow' }}
          </div>
        {%- endif -%}
			</div>{% endcomment %}
		</div>
	</div>
</footer>
<style>
  .footer .widget--menu-column ul li a {
  color: #6e6e6e; /* Color plomo */
  text-decoration: none;
  transition: color 0.3s ease;
}

.footer .widget--menu-column ul li a:hover {
  color: #000000; /* Color negro al hacer hover */
  text-decoration: underline;
}
  .footer .row {
    display: flex;
    flex-wrap: wrap;
    justify-content: center; 
    text-align: center;
  }

  .footer .widget--menu-column {
    order: 0; 
    flex: 0 0 100%; 
    max-width: 65%;
    margin: 0 auto; 
    text-align: center;
  }

  .footer .widget--menu-column .widget__title {
    text-align: center;
    margin-bottom: 1.5rem;
    font-weight: bold;
    font-size: 1.2rem;
  }

  .footer .widget--menu-column ul {
    list-style: none;
    padding: 0;
    margin: 0 auto;
    display: flex;
    justify-content: center;
   
    flex-wrap: wrap;
  }
.footer .widget__title {
  display: block;
  text-align: center;
  margin-bottom: 1.5rem;
  font-weight: bold;
  font-size: 1.2rem;
  width: 100%;
}
  .footer .widget--menu-column ul li {
    display: inline-block;
     padding: 0.2rem 0.7rem;
    
  }

 
  .footer .widget--text{
    order: 2;
    width: 100%;
    margin-top: 30px;
  flex: 0 0 100%;
  max-width: 100%;
  display: flex;
  flex-direction: column;
   justify-content: flex-start; /* alinea el bloque a la izquierda */
  text-align: right; 
  }
  
.footer .widget--menu .thb-widget-title {
  display: block;
  text-align: center;
  width: 100%;
  font-weight: 400;
  font-size: 1.2rem;
  margin-bottom: 1.5rem;
  
}
  
.footer .widget--signup > .columns {
  justify-content: flex-start !important;
}
  .footer .widget--signup .thb-widget-title {
  display: block;
  margin-bottom: 20px; /* espacio abajo para separar del form */
  font-weight: 400;
  font-size: 1.2rem;
  text-align: left; /* o center si prefieres */
}
  .footer .widget--signup {
  display: flex;
  flex-direction: column; /* para que el título, texto y formulario estén en columna */
  align-items: flex-start; /* título y form alineados a la izquierda */
     order: 1;
  flex: 0 0 100%;
  max-width: 100%;
  align-items: flex-start;
}
 .footer .widget--signup input[type="email"] {
  width: 100%;
  max-width: 500px; /* Ajusta este valor a lo que desees */
  padding: 0.75rem 1rem;
  font-size: 1rem;
  box-sizing: border-box;
}
  .footer .widget--text svg {
  width: 20px;
  height: 20px;
}
  /* last */


 @media (max-width: 767px) {
  .footer {
    display: flex !important;
    flex-direction: column!important;
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
.footer .widget--signup input[type="email"] {
  width: 100% !important;
    max-width: 100% !important;
    padding: 0.75rem 1rem !important; 
    box-sizing: border-box;

}

.footer .signup-container{
width: 100% !important;
    max-width: 100% !important;
}

  .footer .row,
  .footer .row.full-width-row {
    display: flex !important;
    flex-direction: column !important;
   
    width: 100%;
  }

  .footer .widget--signup {
    order: 0 !important;
    width: 100%;
    text-align: center;
    margin-bottom: 20px;
    
  }

  .footer .widget--menu-column {
    order: 1 !important;
    text-align: left;
    max-width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
    justify-content: flex-start;
    
  }

  .footer .widget--menu .thb-widget-title {
    display: flex;
    padding-left: 10px !important;
	padding-bottom: 0px !important;
  }

  .footer .widget--menu .collapsible span {
    display: none !important;
  }

  .footer .widget--menu-column ul {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .footer .widget--menu-column ul li {
    text-align: left;
  }

.footer .widget1{
 order:1!important;
}
.footer .widget2{
 order:2!important;
}
.footer .widget3{
 order:3!important;
}
  .footer .widget--text {
    order:99 !important;
    width: 100%;
    display: flex;
    justify-content: center;
    text-align: center !important;
    margin-top: 30px;
    margin-bottom: 0 !important;
    padding-bottom: 0 !important;
    
  }

  .footer .social-links {
    text-align: center !important;
  }

  .sub-footer {
    display: none;
  }
}



</style>

{% schema %}
  {
		"name": "Footer",
		"class": "section-footer",
		"settings": [
			{
				"type": "checkbox",
				"id": "full_width",
				"default": false,
				"label": "Make section full width"
			},
      {
        "type": "text",
        "id": "copyright_text",
        "label": "Additional copyright text",
        "default": "All rights reserved."
      },
			{
        "type": "checkbox",
        "id": "show_language_switcher",
        "label": "Enable language switcher",
        "default": true,
				"info": "To add a language, go to your [language settings](/admin/settings/languages)."
      },
			{
        "type": "checkbox",
        "id": "show_currency_switcher",
        "label": "Enable currency switcher",
        "default": true,
				"info": "To add a country/region, go to your [payment settings](/admin/settings/payments)."
      },
			{
        "type": "checkbox",
        "id": "show_payment_icons",
        "label": "Show payment icons",
        "default": true,
				"info": "By default your theme shows the icons that are associated with the payment gateway you have enabled in the [payment settings](/admin/settings/payments)."
      },
			{
	      "type": "header",
	      "content": "Follow on Shop",
	      "info": "To allow customers to follow your store on the Shop app from your storefront, Shop Pay must be enabled. [Learn more](https://help.shopify.com/manual/online-store/themes/customizing-themes/follow-on-shop)"
	    },
			{
	      "type": "checkbox",
	      "id": "enable_follow_on_shop",
	      "default": true,
	      "label": "Enable Follow on Shop"
	    }
		],
		"blocks": [
			{
	      "type": "@app"
	    },
			{
        "type": "text",
        "name": "Text",
				"settings": [
					{
						 "type": "select",
						 "id": "column_size",
						 "label": "Column size",
						 "options": [
							 { "value": "small", "label": "Small" },
							 { "value": "medium", "label": "Medium" },
							 { "value": "large", "label": "Large" }
						 ],
						 "default": "small"
					},
					{
            "id": "title",
            "type": "text",
            "label": "Title"
          },
					{
            "type": "image_picker",
            "id": "image",
            "label": "Image",
						"info": "240 x 100 px .png recommended."
          },
					{
            "type": "richtext",
            "id": "text",
            "label": "Text",
            "default": "<p>Add company info here.</p>"
          },
					{
						"type": "select",
						"id": "text_size",
						"label": "Text size",
						"options": [
							{
								"value": "small",
								"label": "Small"
							},
							{
								"value": "medium",
								"label": "Medium"
							},
							{
								"value": "large",
								"label": "Large"
							}
						],
						"default": "medium"
					},
					{
            "id": "button_text",
            "type": "text",
            "label": "Button label",
            "default": "Explore",
						"info": "Leave the label blank to hide the button."
          },
          {
            "id": "button_link",
            "type": "url",
            "label": "Button link"
          },
					{
		        "type": "checkbox",
		        "id": "show_social_links",
		        "label": "Show social links",
		        "default": true
		      }
				]
      },
      {
        "type": "menu",
        "name": "Menu",
				"settings": [
					{
						 "type": "select",
						 "id": "column_size",
						 "label": "Column size",
						 "options": [
							 { "value": "small", "label": "Small" },
							 { "value": "medium", "label": "Medium" },
							 { "value": "large", "label": "Large" }
						 ],
						 "default": "small"
					},
					{
            "id": "title",
            "type": "text",
            "label": "Title"
          },
					{
						"type": "link_list",
						"id": "menu",
						"default": "footer",
						"label": "Menu",
						"info": "Select navigation to display"
					}
				]
      },
			{
        "type": "social",
        "name": "Social links",
				"settings": [
					{
						 "type": "select",
						 "id": "column_size",
						 "label": "Column size",
						 "options": [
							 { "value": "small", "label": "Small" },
							 { "value": "medium", "label": "Medium" },
							 { "value": "large", "label": "Large" }
						 ],
						 "default": "small"
					},
					{
            "id": "title",
            "type": "text",
            "label": "Title"
          }
				]
      },
			{
        "type": "signup",
        "name": "Email signup",
				"limit": 1,
				"settings": [
					{
						 "type": "select",
						 "id": "column_size",
						 "label": "Column size",
						 "options": [
							 { "value": "small", "label": "Small" },
							 { "value": "medium", "label": "Medium" },
							 { "value": "large", "label": "Large" }
						 ],
						 "default": "small"
					},
					{
            "id": "title",
            "type": "text",
            "label": "Title"
          },
					{
            "type": "richtext",
            "id": "text",
            "label": "Text",
            "default": "<p>Add a text to attract more customers to <strong>sign up!</strong></p>"
          }
				]
      },
			{
        "type": "custom_liquid",
        "name": "Custom liquid",
				"settings": [
					{
						 "type": "select",
						 "id": "column_size",
						 "label": "Column size",
						 "options": [
							 { "value": "small", "label": "Small" },
							 { "value": "medium", "label": "Medium" },
							 { "value": "large", "label": "Large" }
						 ],
						 "default": "small"
					},
					{
            "id": "title",
            "type": "text",
            "label": "Title"
          },
					{
						"type": "liquid",
						"id": "custom_liquid",
						"label": "Custom liquid",
						"info": "Add app snippets or other Liquid code to create advanced customizations."
					}
				]
      }
    ]
  }
{% endschema %}
