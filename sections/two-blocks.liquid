{% schema %}
{
  "name": "Dos Columnas",
  "settings": [],
  "blocks": [
    {
      "type": "column",
      "name": "Columna",
      "settings": [
        {
          "type": "richtext",
          "id": "contenido",
          "label": "Texto"
        },
        {
          "type": "color",
          "id": "background_color",
          "label": "Color de fondo",
          "default": "#ffffff"
        },
        {
          "type": "color",
          "id": "text_color",
          "label": "Color del texto",
          "default": "#000000"
        },
        {
          "type": "range",
          "id": "text_size",
          "label": "Tamaño del texto (px)",
          "min": 12,
          "max": 48,
          "step": 2,
          "default": 16
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Texto del botón"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Enlace del botón"
        },
        {
          "type": "color",
          "id": "button_color",
          "label": "Color del texto del botón",
          "default": "#ffffff"
        },
        {
          "type": "color",
          "id": "button_bg",
          "label": "Color de fondo del botón",
          "default": "#000000"
        }
      ]
    }
  ],
  "max_blocks": 2,
  "presets": [
    {
      "name": "Dos Columnas Avanzadas",
      "blocks": [
        { "type": "column" },
        { "type": "column" }
      ]
    }
  ]
}
{% endschema %}

<style>
.dos-columnas {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  justify-content: center;
}
.columna-avanzada {
  flex: 1 1 45%;
  padding: 20px;
  border-radius: 10px;
  text-align: center;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 300px;
}
.columna-avanzada .rte {
  flex-grow: 1;
}
.columna-avanzada .boton {
  display: inline-block;
  margin-top: 20px;
  padding: 12px 24px;
  border-radius: 5px;
  text-decoration: none;
  font-weight: bold;
  transition: background 0.3s ease;
}
@media (max-width: 768px) {
  .columna-avanzada {
    flex: 1 1 100%;
  }
}
</style>

<div class="dos-columnas">
  {% for block in section.blocks %}
    <div class="columna-avanzada"
         style="background-color: {{ block.settings.background_color }};
                color: {{ block.settings.text_color }};
                font-size: {{ block.settings.text_size }}px;">
      <div class="rte">
        {{ block.settings.contenido }}
      </div>
      {% if block.settings.button_label != blank and block.settings.button_link != blank %}
        <a href="{{ block.settings.button_link }}"
           class="boton"
           style="background-color: {{ block.settings.button_bg }};
                  color: {{ block.settings.button_color }};">
          {{ block.settings.button_label }}
        </a>
      {% endif %}
    </div>
  {% endfor %}
</div>
