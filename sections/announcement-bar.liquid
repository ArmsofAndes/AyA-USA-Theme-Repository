{%- if section.settings.announcement_bar -%}
  {%- liquid
    assign announcement_bar_layout = section.settings.announcement_bar_layout
    assign speed = section.settings.speed
    assign enable_sticky = section.settings.enable_sticky
    assign direction = section.settings.direction
    assign show_announcement_bar = true

    assign autoplay = section.settings.autoplay
    
    assign show_on_home = section.settings.show_on_home
    assign show_on_collection = section.settings.show_on_collection
    assign show_on_product = section.settings.show_on_product
    
    if section.settings.announcement_bar_homepage_only
      if template != 'index'
        assign show_announcement_bar = false
      endif
    else
      if show_on_home == false and template == 'index'
        assign show_announcement_bar = false
      endif
      
      if show_on_collection == false and template.name == 'collection'
        assign show_announcement_bar = false
      endif
      
      if show_on_product == false and template.name == 'product'
        assign show_announcement_bar = false
      endif
    endif
    
    assign sticky_on_home = section.settings.sticky_on_home
    assign sticky_on_collection = section.settings.sticky_on_collection
    assign sticky_on_product = section.settings.sticky_on_product
    
    if enable_sticky
      if template == 'index'
        if sticky_on_home == false
          assign enable_sticky = false
        endif
      elsif template.name == 'collection'
        if sticky_on_collection == false
          assign enable_sticky = false
        endif
      elsif template.name == 'product'
        if sticky_on_product == false
          assign enable_sticky = false
        endif
      endif
    endif

    if autoplay
      assign autoplay = section.settings.autoplay_length | times: 1000
    endif
  -%}

  {%- if show_announcement_bar -%}
    {{- 'announcement-bar.css' | asset_url | stylesheet_tag -}}
    
    {%- liquid
      assign section_id = 'shopify-section-' | append: section.id
      assign is_specific_section = false
      if section_id == 'shopify-section-sections--20597477474550__announcement-bar'
        assign is_specific_section = true
      endif
    -%}

    <div id="shopify-section-{{ section.id }}" class="announcement-bar-top-section {% if is_specific_section %}announcement-bar-top-custom{% endif %}">
    <div class="announcement-bar announcement-bar-top {% if is_specific_section %}announcement-bar-top-custom{% endif %}" 
         data-sticky-enabled="{{ enable_sticky }}"
         role="region"
         aria-label="Announcement bar"
         {% unless is_specific_section %}style="background-color: {{ section.settings.announcement_bg }}; color: {{ section.settings.announcement_text }};"{% endunless %}>
      <div class="announcement-bar--inner direction-{{ direction }} announcement-bar--{{ announcement_bar_layout }} {% if is_specific_section %}announcement-bar-inner-custom{% endif %}" {% unless is_specific_section %}style="--marquee-speed: {{ speed }}"{% endunless %}>
        {%- if announcement_bar_layout == 'marquee' -%}
          {%- capture scrolling_text -%}
            <div>
              {%- liquid
                assign index = 0
                assign size = section.blocks.size
              -%}
              {%- for index in (0..size) -%}
                <div class="announcement-bar--item {% if section.blocks[index].settings.hide_on_desktop %}hide-desktop{% endif %} {% if section.blocks[index].settings.hide_on_mobile %}hide-mobile{% endif %}" {{ section.blocks[index].shopify_attributes }} >
                  {%- if section.blocks[index].settings.link -%}<a href="{{ section.blocks[index].settings.link }}" target="_blank">{%- endif -%}
                    {%- if section.blocks[index].settings.icon -%}{% render 'svg-icons-inline', icon: section.blocks[index].settings.icon %}{%- endif -%}
                    {{- section.blocks[index].settings.text -}}
                  {%- if section.blocks[index].settings.link -%}</a>{%- endif -%}
                </div>
              {%- endfor -%}
            </div>
          {%- endcapture -%}
          {{ scrolling_text }}{{ scrolling_text }}{{ scrolling_text }}
        {%- elsif announcement_bar_layout == 'carousel' -%}
          <slide-show class="carousel" data-autoplay="{{ autoplay }}">
            {%- for block in section.blocks -%}
              <div class="announcement-bar--item carousel__slide {% if block.settings.hide_on_desktop %}hide-desktop{% endif %} {% if block.settings.hide_on_mobile %}hide-mobile{% endif %}" {{ block.shopify_attributes }}>
                {%- if block.settings.link -%}<a href="{{ block.settings.link }}" target="_blank">{%- endif -%}
                  {%- if block.settings.icon -%}{% render 'svg-icons-inline', icon: block.settings.icon %}{%- endif -%}
                  {{- block.settings.text -}}
                {%- if block.settings.link -%}</a>{%- endif -%}
              </div>
            {%- endfor -%}
            {%- if section.blocks.size > 1 -%}
              <div class="flickity-nav flickity-prev" tabindex="0">{% render 'svg-icons' with 'thb-caret-left' %}</div>
              <div class="flickity-nav flickity-next" tabindex="0">{% render 'svg-icons' with 'thb-caret-right' %}</div>
            {%- endif -%}
          </slide-show>
        {%- elsif announcement_bar_layout == 'stacked' -%}
          {%- comment -%} NUEVO LAYOUT: STACKED (apilado verticalmente) CON COLORES INDEPENDIENTES {%- endcomment -%}
          <div class="announcement-bar--stacked">
            {%- for block in section.blocks -%}
              <div class="announcement-bar--item {% if block.settings.hide_on_desktop %}hide-desktop{% endif %} {% if block.settings.hide_on_mobile %}hide-mobile{% endif %} {% if is_specific_section %}announcement-bar-item-custom{% endif %}" 
                   {{ block.shopify_attributes }}
                   {% unless is_specific_section %}style="background-color: {{ block.settings.item_bg_color }}; color: {{ block.settings.item_text_color }}; --hover-bg: {{ block.settings.item_hover_bg_color }}; --hover-text: {{ block.settings.item_hover_text_color }}; font-size: {{ block.settings.font_size }}px; font-weight: {{ block.settings.font_weight }};"{% endunless %}>
                {%- if block.settings.link -%}<a href="{{ block.settings.link }}" target="_blank" {% unless is_specific_section %}style="color: {{ block.settings.item_text_color }};"{% endunless %}>{%- endif -%}
                  {%- if block.settings.icon -%}{% render 'svg-icons-inline', icon: block.settings.icon %}{%- endif -%}
                  {{- block.settings.text -}}
                {%- if block.settings.link -%}</a>{%- endif -%}
              </div>
            {%- endfor -%}
          </div>
        {%- endif -%}
      </div>
      </div>
    </div>

    <style>
      /* Estilos específicos para el elemento con ID shopify-section-sections--20597477474550__announcement-bar */
      #shopify-section-sections--20597477474550__announcement-bar,
      #shopify-section-sections--20597477474550__announcement-bar.announcement-bar-top-custom,
      #shopify-section-sections--20597477474550__announcement-bar .announcement-bar-top-custom,
      #shopify-section-sections--20597477474550__announcement-bar .announcement-bar-top-section,
      #shopify-section-sections--20597477474550__announcement-bar .announcement-bar.announcement-bar-top {
        background-color: #000000 !important;
        background: #000000 !important;
        color: #ffffff !important;
        border: none !important;
        border-top: none !important;
        border-bottom: none !important;
        border-left: none !important;
        border-right: none !important;
        outline: none !important;
        box-shadow: none !important;
      }
      
      #shopify-section-sections--20597477474550__announcement-bar * {
        border: none !important;
        border-top: none !important;
        border-bottom: none !important;
        border-left: none !important;
        border-right: none !important;
        outline: none !important;
        background-color: #000000 !important;
        background: #000000 !important;
      }
      
      #shopify-section-sections--20597477474550__announcement-bar .announcement-bar-inner-custom,
      #shopify-section-sections--20597477474550__announcement-bar .announcement-bar--inner,
      #shopify-section-sections--20597477474550__announcement-bar .announcement-bar--stacked {
        --marquee-speed: 20s;
        border: none !important;
        border-top: none !important;
        border-bottom: none !important;
        border-left: none !important;
        border-right: none !important;
        outline: none !important;
        box-shadow: none !important;
        background-color: #000000 !important;
        background: #000000 !important;
      }
      
      #shopify-section-sections--20597477474550__announcement-bar .announcement-bar-item-custom {
        background-color: #000000 !important;
        color: #ffffff !important;
        --hover-bg: transparent !important;
        --hover-text: inherit !important;
        border: none !important;
        border-top: none !important;
        border-bottom: none !important;
        border-left: none !important;
        border-right: none !important;
        outline: none !important;
        box-shadow: none !important;
      }
      
      #shopify-section-sections--20597477474550__announcement-bar .announcement-bar-item-custom a {
        color: #ffffff !important;
      }
      
      #shopify-section-sections--20597477474550__announcement-bar .announcement-bar-item-custom:hover,
      #shopify-section-sections--20597477474550__announcement-bar .announcement-bar-item-custom a:hover {
        background-color: inherit !important;
        color: inherit !important;
        transform: none !important;
        translate: none !important;
        box-shadow: none !important;
        cursor: default !important;
      }
      
      /* Eliminar espacio blanco - remover padding-top del body */
      body {
        padding-top: 0 !important;
      }

      /* Valores fijos de altura para evitar cálculos dinámicos cuando está sticky */
      .announcement-bar-top-section {
        --announcement-top-height-desktop: 42px;
        --announcement-top-height-mobile: 46px;
      }

      .announcement-bar-top-section.sticky-enabled-section {
        position: sticky;
        top: 0;
        z-index: 52;
      }
      
      /* Asegurar que el z-index no cambie en hover */
      .announcement-bar-top-section.sticky-enabled-section:hover {
        z-index: 52 !important;
      }
      
      .announcement-bar-top-section.sticky-enabled-section *:hover {
        z-index: auto !important;
        position: relative !important;
      }

      .announcement-bar-top-section:not(.sticky-enabled-section) {
        position: static;
        height: auto !important;
        min-height: 0 !important;
        max-height: none;
        margin-bottom: 0 !important;
        padding-bottom: 0 !important;
      }
      
      .announcement-bar-top-section:not(.sticky-enabled-section) .announcement-bar.announcement-bar-top {
        height: auto !important;
        min-height: 0 !important;
        max-height: none;
        margin-bottom: 0 !important;
        padding-bottom: 0 !important;
      }
      
      .announcement-bar-top-section:not(.sticky-enabled-section) .announcement-bar--inner {
        margin-bottom: 0 !important;
        padding-bottom: 0 !important;
      }

      /* ajustes visuales */
      .announcement-bar {
        background: var(--color-announcement-bar-bg, var(--color-accent));
        color: var(--color-announcement-bar-text, #fff);
        line-height: 1;
      }
      
      /* Estilos específicos para announcement-bar-top */
      .announcement-bar.announcement-bar-top,
      .announcement-bar.announcement-bar-top[style] {
        margin: 0 !important;
        padding: 0 !important;
        cursor: default !important;
        pointer-events: auto !important;
        height: 42px;
        min-height: 42px;
        max-height: 42px;
        display: flex;
        align-items: center;
        box-sizing: border-box;
      }
      
      /* Sobrescribir estilos inline del announcement-bar-top */
      #shopify-section-sections--20597477474550__announcement-bar .announcement-bar.announcement-bar-top[style*="background-color"],
      #shopify-section-sections--20597477474550__announcement-bar .announcement-bar.announcement-bar-top[style*="background"] {
        background-color: #000000 !important;
        background: #000000 !important;
      }
      
      .announcement-bar.announcement-bar-top[style*="color"] {
        color: var(--color-announcement-bar-text, #fff) !important;
      }
      
      @media (max-width: 768px) {
        .announcement-bar.announcement-bar-top {
          height: 46px;
          min-height: 46px;
          max-height: 46px;
        }
      }
      
      /* Eliminar todos los efectos hover del announcement-bar-top */
      #shopify-section-sections--20597477474550__announcement-bar .announcement-bar.announcement-bar-top:hover,
      #shopify-section-sections--20597477474550__announcement-bar .announcement-bar.announcement-bar-top[style]:hover,
      #shopify-section-sections--20597477474550__announcement-bar .announcement-bar.announcement-bar-top *:hover {
        background: #000000 !important;
        background-color: #000000 !important;
        color: #ffffff !important;
        cursor: default !important;
        transform: none !important;
        translate: none !important;
        box-shadow: none !important;
        opacity: 1 !important;
        z-index: inherit !important;
        position: inherit !important;
        top: inherit !important;
        left: inherit !important;
        right: inherit !important;
        bottom: inherit !important;
        margin: inherit !important;
        padding: inherit !important;
      }
      
      /* Asegurar que no haya cambios de z-index o position en hover */
      .announcement-bar.announcement-bar-top,
      .announcement-bar.announcement-bar-top * {
        position: relative !important;
        z-index: auto !important;
      }
      
      .announcement-bar.announcement-bar-top:hover,
      .announcement-bar.announcement-bar-top *:hover {
        position: relative !important;
        z-index: auto !important;
      }
      
      .announcement-bar-top-section {
        margin: 0 !important;
        padding: 0 !important;
        border: none !important;
      }
      
      .announcement-bar-top-section:not(.sticky-enabled-section) {
        margin-bottom: 0 !important;
        padding-bottom: 0 !important;
      }
      
      .announcement-bar-top-section .announcement-bar.announcement-bar-top {
        margin-bottom: 0 !important;
        padding-bottom: 0 !important;
      }
      
      /* Desktop styles */
      @media (min-width: 769px) {
        .announcement-bar {
          background: var(--color-announcement-bar-bg, var(--color-accent));
          color: var(--color-announcement-bar-text, #fff);
          line-height: 1;
        }
        
        #shopify-section-sections--20597477474550__announcement-bar .announcement-bar,
        #shopify-section-sections--20597477474550__announcement-bar .announcement-bar * {
          background: #000000 !important;
          background-color: #000000 !important;
        }
        
        .announcement-bar:not(.announcement-bar-top) {
          padding: 4px 0;
        }
        
        .announcement-bar-top-section.sticky-enabled-section {
          height: var(--announcement-top-height-desktop);
          min-height: var(--announcement-top-height-desktop);
        }
        
        .announcement-bar-top-section:not(.sticky-enabled-section) {
          height: auto !important;
          min-height: 0 !important;
          max-height: none;
          margin-bottom: 0 !important;
          padding-bottom: 0 !important;
        }
        
        .announcement-bar-top-section:not(.sticky-enabled-section) .announcement-bar.announcement-bar-top {
          height: auto !important;
          min-height: 0 !important;
          max-height: none;
          margin-bottom: 0 !important;
          padding-bottom: 0 !important;
        }
        
        .announcement-bar-top-section:not(.sticky-enabled-section) .announcement-bar--inner {
          margin-bottom: 0 !important;
          padding-bottom: 0 !important;
        }
      }
      
      /* Mobile styles */
      @media (max-width: 768px) {
        .announcement-bar {
          padding: 6px 0;
        }
      }
      
      .announcement-bar .announcement-bar--inner { 
        display: flex; 
        align-items: center; 
        justify-content: center;
        height: 100%;
        margin: 0;
        padding: 0 15px;
      }
      
      .announcement-bar.announcement-bar-top .announcement-bar--inner {
        height: 100%;
        min-height: 42px;
        max-height: 42px;
      }
      
      @media (min-width: 769px) {
        .announcement-bar.announcement-bar-top .announcement-bar--inner {
          min-height: 42px;
          max-height: 42px;
          height: 42px;
        }
      }
      
      @media (max-width: 768px) {
        .announcement-bar.announcement-bar-top .announcement-bar--inner {
          min-height: 46px;
          max-height: 46px;
          height: 46px;
        }
      }
      
      /* Eliminar padding cuando es Stacked para que no se vea el fondo */
      .announcement-bar--stacked { padding: 0 !important; }
      .announcement-bar.announcement-bar--stacked-parent { padding: 0 !important; }
      .announcement-bar a { 
        color: inherit; 
        text-decoration: none; 
        display: inline-flex;
        align-items: center;
        height: 100%;
        margin: 0;
        padding: 0;
      }
      
      .announcement-bar.announcement-bar-top a {
        height: 100%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }

      /* Eliminar padding cuando es layout Stacked */
      .announcement-bar--inner.announcement-bar--stacked { 
        padding: 0 !important; 
      }
      
      .announcement-bar-section--stacked .announcement-bar {
        padding: 0 !important;
      }

      /* NUEVO: Estilos para layout apilado */
      .announcement-bar--stacked {
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 0; /* Sin espacio entre textos */
      }

      .announcement-bar--stacked .announcement-bar--item {
        width: 100%;
        text-align: center;
        padding: 0.6em 20px;
        white-space: normal !important;
        display: block !important;
        margin: 0;
      }
      
      .announcement-bar.announcement-bar-top .announcement-bar--stacked .announcement-bar--item {
        height: auto;
        min-height: auto;
        max-height: none;
      }

      .announcement-bar--stacked .announcement-bar--item a {
        display: inline;
        white-space: normal;
      }

      /* Eliminar hover effects para items en layout Stacked cuando están en announcement-bar-top */
      .announcement-bar.announcement-bar-top .announcement-bar--stacked .announcement-bar--item a:hover,
      .announcement-bar.announcement-bar-top .announcement-bar--stacked .announcement-bar--item:hover,
      .announcement-bar.announcement-bar-top .announcement-bar--stacked .announcement-bar--item:hover a {
        background-color: inherit !important;
        color: inherit !important;
        transform: none !important;
        translate: none !important;
        box-shadow: none !important;
        cursor: default !important;
        z-index: inherit !important;
        position: inherit !important;
        top: inherit !important;
        left: inherit !important;
        right: inherit !important;
        bottom: inherit !important;
        margin: inherit !important;
        padding: inherit !important;
      }
      
      /* Sobrescribir estilos inline para items stacked dentro de announcement-bar-top */
      .announcement-bar.announcement-bar-top .announcement-bar--stacked .announcement-bar--item {
        --hover-bg: transparent !important;
        --hover-text: inherit !important;
      }

      /* Ocultar en desktop */
      @media (min-width: 769px) {
        .announcement-bar--item.hide-desktop {
          display: none !important;
        }
      }

      /* Ocultar en mobile */
      @media (max-width: 768px) {
        .announcement-bar--item.hide-mobile {
          display: none !important;
        }
      }
    </style>

    <script>
      (function() {
        const topBar = document.querySelector('.announcement-bar-top[data-sticky-enabled="true"]');
        if (topBar) {
          const section = topBar.closest('.announcement-bar-top-section');
          if (section) {
            section.classList.add('sticky-enabled-section');
          }
        }
      })();
    </script>

  {%- endif -%}
{%- endif -%}

<style>
  .announcement-bar {
    --announcement-text-color: {{ section.settings.text_color }};
    color: var(--announcement-text-color); /* Para que el texto herede */
  }

  /* Los enlaces heredan el color */
  .announcement-bar a {
    color: inherit !important;
  }

  /* Iconos y flechas heredan color desde el padre */
  .announcement-bar .announcement-bar--item svg,
  .announcement-bar .announcement-bar--item svg path,
  .announcement-bar .flickity-nav svg,
  .announcement-bar .flickity-nav svg path {
    fill: currentColor !important;
    stroke: currentColor !important;
    color: inherit !important;
  }
  
  .announcement-bar.announcement-bar-top .announcement-bar--item svg {
    margin: 0 8px 0 0;
    flex-shrink: 0;
    height: auto;
    width: auto;
    max-height: 18px;
    max-width: 18px;
  }
  
  .announcement-bar.announcement-bar-top .announcement-bar--item {
    font-size: 13px;
    line-height: 1.2;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .announcement-bar--item {
    line-height: 1.2;
    padding: 0;
    margin: 0;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    height: 100%;
  }
  
  .announcement-bar.announcement-bar-top .announcement-bar--item {
    height: 100%;
    min-height: 42px;
    max-height: 42px;
  }
  
  @media (min-width: 769px) {
    .announcement-bar.announcement-bar-top .announcement-bar--item {
      min-height: 42px;
      max-height: 42px;
      height: 42px;
    }
  }
  
  @media (max-width: 768px) {
    .announcement-bar.announcement-bar-top .announcement-bar--item {
      min-height: 46px;
      max-height: 46px;
      height: 46px;
    }
  }
  
  .announcement-bar:not(.announcement-bar-top) {
    padding-top: 0.6em;
    padding-bottom: 0.6em;
  }
  
  .announcement-bar.announcement-bar-top {
    padding: 0 !important;
    margin: 0 !important;
    height: 42px;
    min-height: 42px;
    max-height: 42px;
    display: flex;
    align-items: center;
  }
  
  @media (min-width: 769px) {
    .announcement-bar.announcement-bar-top {
      height: 42px;
      min-height: 42px;
      max-height: 42px;
    }
  }
  
  @media (max-width: 768px) {
    .announcement-bar.announcement-bar-top {
      height: 46px;
      min-height: 46px;
      max-height: 46px;
    }
  }
  
  .announcement-bar .flickity-nav {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    color: inherit !important;
    fill: currentColor !important;
    stroke: currentColor !important;
    padding: 0.3em;
    display: flex;
    align-items: center;
    justify-content: center;
  }
 
  .announcement-bar-sticky--active {
    position: sticky;
    top: 0;
    z-index: 9999; /* para que quede por encima */
  }

  /* Estilos fijos para announcement-bar--item - Aplicado a todos los dispositivos */
  .announcement-bar--item {
    background-color: #000000 !important;
    color: #ffffff !important;
    --hover-bg: #333333 !important;
    --hover-text: #ffffff !important;
  }

  /* Sobrescribir estilos inline para items dentro de announcement-bar-top */
  .announcement-bar.announcement-bar-top .announcement-bar--item,
  .announcement-bar.announcement-bar-top .announcement-bar--item[style] {
    background-color: inherit !important;
    color: inherit !important;
    --hover-bg: transparent !important;
    --hover-text: inherit !important;
  }
  
  /* Sobrescribir estilos inline específicamente usando selector de atributo */
  .announcement-bar.announcement-bar-top .announcement-bar--item[style*="background-color"],
  .announcement-bar.announcement-bar-top .announcement-bar--item[style*="--hover-bg"] {
    background-color: inherit !important;
    --hover-bg: transparent !important;
  }
  
  .announcement-bar.announcement-bar-top .announcement-bar--item[style*="color"],
  .announcement-bar.announcement-bar-top .announcement-bar--item[style*="--hover-text"] {
    color: inherit !important;
    --hover-text: inherit !important;
  }
  
  /* Sobrescribir estilos inline en enlaces dentro de items */
  .announcement-bar.announcement-bar-top .announcement-bar--item a,
  .announcement-bar.announcement-bar-top .announcement-bar--item a[style] {
    color: inherit !important;
  }
  
  .announcement-bar.announcement-bar-top .announcement-bar--item a[style*="color"] {
    color: inherit !important;
  }

  /* Eliminar hover effects para items dentro de announcement-bar-top */
  .announcement-bar.announcement-bar-top .announcement-bar--item:hover,
  .announcement-bar.announcement-bar-top .announcement-bar--item a:hover,
  .announcement-bar.announcement-bar-top .announcement-bar--item[style]:hover,
  .announcement-bar.announcement-bar-top .announcement-bar--item a[style]:hover {
    background-color: inherit !important;
    color: inherit !important;
    transform: none !important;
    translate: none !important;
    box-shadow: none !important;
    cursor: default !important;
    z-index: inherit !important;
    position: inherit !important;
    top: inherit !important;
    left: inherit !important;
    right: inherit !important;
    bottom: inherit !important;
    margin: inherit !important;
    padding: inherit !important;
  }
  
  /* Eliminar cualquier uso de variables CSS de hover */
  .announcement-bar.announcement-bar-top .announcement-bar--item:hover {
    background: inherit !important;
    background-color: inherit !important;
  }
  
  /* Prevenir hover y efectos de botón en el contenedor principal */
  .announcement-bar.announcement-bar-top,
  .announcement-bar-top-section {
    pointer-events: none;
    cursor: default !important;
  }
  
  /* Eliminar todos los efectos hover del announcement-bar-top y sus hijos */
  .announcement-bar.announcement-bar-top:hover,
  .announcement-bar.announcement-bar-top *:hover {
    background: inherit !important;
    background-color: inherit !important;
    color: inherit !important;
    cursor: default !important;
    transform: none !important;
    translate: none !important;
    box-shadow: none !important;
    opacity: 1 !important;
    transition: none !important;
    z-index: inherit !important;
    position: inherit !important;
    top: inherit !important;
    left: inherit !important;
    right: inherit !important;
    bottom: inherit !important;
    margin: inherit !important;
    padding: inherit !important;
  }
  
  /* Asegurar que no haya cambios de z-index o position en hover */
  .announcement-bar.announcement-bar-top,
  .announcement-bar.announcement-bar-top * {
    position: relative !important;
    z-index: auto !important;
  }
  
  .announcement-bar.announcement-bar-top:hover,
  .announcement-bar.announcement-bar-top *:hover {
    position: relative !important;
    z-index: auto !important;
  }
  
  .announcement-bar.announcement-bar-top * {
    pointer-events: auto;
  }
</style>


{% schema %}
{
	"name": "Announcement bar",
	"class": "announcement-bar-section",
	"max_blocks": 5,
	"settings": [
		{
			"type": "header",
			"content": "Sticky Settings"
		},
		{
			"type": "checkbox",
			"id": "enable_sticky",
			"label": "Enable sticky",
			"default": true,
			"info": "When enabled, this bar will stay fixed at the top when scrolling"
		},
		{
			"type": "checkbox",
			"id": "sticky_on_home",
			"label": "Apply sticky on home page",
			"default": true,
			"info": "Apply sticky behavior on home page"
		},
		{
			"type": "checkbox",
			"id": "sticky_on_collection",
			"label": "Apply sticky on collection pages",
			"default": true,
			"info": "Apply sticky behavior on collection pages"
		},
		{
			"type": "checkbox",
			"id": "sticky_on_product",
			"label": "Apply sticky on product pages",
			"default": true,
			"info": "Apply sticky behavior on product pages"
		},
		{
			"type": "header",
			"content": "Visibility Settings"
		},
		{
			"type": "checkbox",
			"id": "announcement_bar",
			"label": "Oculta/Muestra announcement-bar",
			"default": true
		},
		{
			"type": "checkbox",
			"id": "announcement_bar_homepage_only",
			"label": "Show on home page only",
			"default": false,
			"info": "Legacy setting - has priority over new visibility controls"
		},
		{
			"type": "checkbox",
			"id": "show_on_home",
			"label": "Show on home page",
			"default": true
		},
		{
			"type": "checkbox",
			"id": "show_on_collection",
			"label": "Show on collection pages",
			"default": true
		},
		{
			"type": "checkbox",
			"id": "show_on_product",
			"label": "Show on product pages",
			"default": true
		},
		{
			"type": "select",
			"id": "announcement_bar_layout",
			"options": [
				{
					"value": "marquee",
					"label": "Marquee"
				},
				{
					"value": "carousel",
					"label": "Carousel"
				},
				{
					"value": "stacked",
					"label": "Stacked (Apilado)"
				}
			],
			"default": "marquee",
			"label": "Layout"
		},
		{
			"type": "header",
			"content": "Marquee"
		},
		{
			"type": "select",
			"id": "direction",
			"options": [
				{
					"value": "left",
					"label": "Left"
				},
				{
					"value": "right",
					"label": "Right"
				}
			],
			"default": "left",
			"label": "Direction"
		},
		{
			"type": "select",
			"id": "speed",
			"options": [
				{
					"value": "10s",
					"label": "Fast"
				},
				{
					"value": "20s",
					"label": "Normal"
				},
				{
					"value": "30s",
					"label": "Slow"
				},
				{
					"value": "50s",
					"label": "Very slow"
				}
			],
			"default": "20s",
			"label": "Speed"
		},
		{
			"type": "header",
			"content": "Carousel"
		},
		{
			"type": "checkbox",
			"id": "autoplay",
			"label": "Auto-rotate slides",
			"default": true
		},
		{
			"type": "range",
			"id": "autoplay_length",
			"min": 3,
			"max": 10,
			"step": 1,
			"unit": "s",
			"label": "Change slides every",
			"default": 5
		},
		{
			"type": "color",
			"id": "announcement_bg",
			"label": "Color de fondo",
			"default": "#000000"
		},
		{
			"type": "color",
			"id": "announcement_text",
			"label": "Color del texto",
			"default": "#ffffff"
		}
	],
	"blocks": [
		{
			"type": "text",
			"name": "Text",
			"settings": [
				{
					"type": "select",
					"id": "icon",
					"options": [
						{
							"value": "none",
							"label": "None"
						},
						{
							"value": "apple",
							"label": "Apple"
						},
						{
							"value": "banana",
							"label": "Banana"
						},
						{
							"value": "bottle",
							"label": "Bottle"
						},
						{
							"value": "box",
							"label": "Box"
						},
						{
							"value": "carrot",
							"label": "Carrot"
						},
						{
							"value": "chat_bubble",
							"label": "Chat bubble"
						},
						{
							"value": "check_mark",
							"label": "Check mark"
						},
						{
							"value": "clipboard",
							"label": "Clipboard"
						},
						{
							"value": "dairy",
							"label": "Dairy"
						},
						{
							"value": "dairy_free",
							"label": "Dairy free"
						},
						{
							"value": "dryer",
							"label": "Dryer"
						},
						{
							"value": "eye",
							"label": "Eye"
						},
						{
							"value": "fire",
							"label": "Fire"
						},
						{
							"value": "gluten_free",
							"label": "Gluten free"
						},
						{
							"value": "heart",
							"label": "Heart"
						},
						{
							"value": "iron",
							"label": "Iron"
						},
						{
							"value": "leaf",
							"label": "Leaf"
						},
						{
							"value": "leather",
							"label": "Leather"
						},
						{
							"value": "lightning_bolt",
							"label": "Lightning bolt"
						},
						{
							"value": "lipstick",
							"label": "Lipstick"
						},
						{
							"value": "lock",
							"label": "Lock"
						},
						{
							"value": "map_pin",
							"label": "Map pin"
						},
						{
							"value": "nut_free",
							"label": "Nut free"
						},
						{
							"value": "pants",
							"label": "Pants"
						},
						{
							"value": "paw_print",
							"label": "Paw print"
						},
						{
							"value": "pepper",
							"label": "Pepper"
						},
						{
							"value": "perfume",
							"label": "Perfume"
						},
						{
							"value": "plane",
							"label": "Plane"
						},
						{
							"value": "plant",
							"label": "Plant"
						},
						{
							"value": "price_tag",
							"label": "Price tag"
						},
						{
							"value": "question_mark",
							"label": "Question mark"
						},
						{
							"value": "recycle",
							"label": "Recycle"
						},
						{
							"value": "return",
							"label": "Return"
						},
						{
							"value": "ruler",
							"label": "Ruler"
						},
						{
							"value": "serving_dish",
							"label": "Serving dish"
						},
						{
							"value": "shirt",
							"label": "Shirt"
						},
						{
							"value": "shoe",
							"label": "Shoe"
						},
						{
							"value": "silhouette",
							"label": "Silhouette"
						},
						{
							"value": "snowflake",
							"label": "Snowflake"
						},
						{
							"value": "star",
							"label": "Star"
						},
						{
							"value": "stopwatch",
							"label": "Stopwatch"
						},
						{
							"value": "truck",
							"label": "Truck"
						},
						{
							"value": "washing",
							"label": "Washing"
						}
					],
					"default": "none",
					"label": "Icon"
				},
				{
					"type": "text",
					"id": "text",
					"label": "Content",
					"default": "Add campaign text here."
				},
				{
					"id": "link",
					"type": "url",
					"label": "Link"
				},
				{
					"type": "color",
					"id": "item_bg_color",
					"label": "Color de fondo del texto",
					"default": "#000000"
				},
				{
					"type": "color",
					"id": "item_text_color",
					"label": "Color del texto",
					"default": "#ffffff"
				},
				{
					"type": "color",
					"id": "item_hover_bg_color",
					"label": "Color de fondo en hover",
					"default": "#333333"
				},
				{
					"type": "color",
					"id": "item_hover_text_color",
					"label": "Color del texto en hover",
					"default": "#ffffff"
				},
				{
					"type": "checkbox",
					"id": "hide_on_desktop",
					"label": "Hide on desktop",
					"default": false
				},
				{
					"type": "checkbox",
					"id": "hide_on_mobile",
					"label": "Hide on mobile",
					"default": false
				}
			]
		}
	],
	"default": {
		"blocks": [
			{
				"type": "text"
			},
			{
				"type": "text"
			},
			{
				"type": "text"
			},
			{
				"type": "text"
			}
		]
	}
}
{% endschema %}